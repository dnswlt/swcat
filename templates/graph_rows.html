{{- define "graph_rows.html" -}}
{{- if .Entities }}
{{- range .Entities }}
<tr class="border-t hover:bg-gray-50">
    <td class="px-4 py-2">
        <a href="{{ .GetRef | toURL }}" class="text-blue-600 hover:underline">
            {{ .GetQName }}
        </a>
    </td>
    <td class="px-4 py-2 text-gray-500">{{ .GetKind }}</td>
    <td class="px-4 py-2">
        {{ with . | parentSystem }}
        <a href="{{ . | toURL }}" class="text-blue-600 hover:underline">{{ .QName }}</a>
        {{ end }}
    </td>
    <td class="px-4 py-2 text-right">
        <button
            hx-get="{{ $.GraphURL }}"
            hx-target="#entities-tbody"
            hx-swap="innerHTML"
            hx-push-url="true"
            hx-indicator="#graph-spinner"
            data-graph-action="add-entity"
            data-entity-ref="{{ .GetRef }}"
            class="px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-sm font-medium">
            Add
        </button>
    </td>
</tr>
{{- end }}
{{- else }}
<tr>
    <td colspan="4" class="px-4 py-2 text-center text-gray-500">
        No entities found
    </td>
</tr>
{{- end }}
{{- end }}
