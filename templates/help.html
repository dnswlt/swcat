<!DOCTYPE html>
<html lang="en">
<head>
    {{ template "head.html" }}
</head>
<body class="min-h-screen bg-gray-50 p-4">
    {{ template "nav.html" . }}

    <main class="w-full max-w-screen-lg mx-auto space-y-6 bg-white shadow rounded-xl p-6">
        <h1 class="text-2xl font-semibold text-center">Software Catalog Help</h1>

        <div class="prose max-w-none">
            <h2 id="search" class="text-2xl font-semibold">Search</h2>
            <p>You can search for entities using a simple query language.</p>

            <h3 class="text-xl font-semibold">Default search</h3>
            <p>If you search for a term without specifying an attribute, it will search within the qualified name of an entity (a combination of its namespace and name). For example:</p>
            <pre class="bg-gray-100 p-2 rounded"><code class="text-gray-800">my-component</code></pre>
            <p>This will find all entities that contain "my-component" in their qualified name.</p>

            <h3 class="text-xl font-semibold">Attribute search</h3>
            <p>You can also search for entities with specific attributes. The format is <code>attribute:value</code>. For example:</p>
            <pre class="bg-gray-100 p-2 rounded"><code class="text-gray-800">title:gateway</code></pre>
            <p>This will find all entities of with "gateway" in their title.</p>
            <p>The following attributes are available for filtering:</p>
            <ul>
                <li><code>*</code>: Full-text search across all fields.</li>
                <li><code>meta</code>: Search in all metadata fields (name, namespace, title, description, labels, annotations, tags, links).</li>
                <li><code>name</code>: The name of the entity.</li>
                <li><code>namespace</code>: The namespace of the entity.</li>
                <li><code>title</code>: The title of the entity.</li>
                <li><code>description</code>: The description of the entity.</li>
                <li><code>tag</code>: A tag associated with the entity.</li>
                <li><code>label</code>: A label associated with the entity (searches both key and value).</li>
                <li><code>owner</code>: The owner of the entity.</li>
                <li><code>type</code>: The type of the entity (e.g., for components, apis, groups).</li>
                <li><code>lifecycle</code>: The lifecycle state of the entity (e.g., for components and apis).</li>
            </ul>

            <h3 class="text-xl font-semibold">Operators</h3>
            <p>The following operators are supported for attribute searches:</p>
            <ul>
                <li><code>:</code> (contains): Checks if the attribute value contains the given search term (case-insensitive).</li>
                <li><code>~</code> (regex): Matches the attribute value against a regular expression.</li>
            </ul>
            <p>Example with regex:</p>
            <pre class="bg-gray-100 p-2 rounded"><code class="text-gray-800">name~^my-.*-prod$</code></pre>

            <h3 class="text-xl font-semibold">Combining expressions</h3>
            <p>You can combine multiple expressions using <code>AND</code> and <code>OR</code>. Parentheses can be used for grouping. If no operator is specified, <code>AND</code> is used by default.</p>
            <p>Examples:</p>
            <pre class="bg-gray-100 p-2 rounded"><code class="text-gray-800">kind:component AND owner:my-team</code></pre>
            <pre class="bg-gray-100 p-2 rounded"><code class="text-gray-800">kind:api OR kind:component</code></pre>
            <pre class="bg-gray-100 p-2 rounded"><code class="text-gray-800">(kind:api OR kind:component) AND owner:my-team</code></pre>

            <h3 class="text-xl font-semibold">Negation</h3>
            <p>You can negate an expression using <code>!</code>.</p>
            <p>Example:</p>
            <pre class="bg-gray-100 p-2 rounded"><code class="text-gray-800">!kind:component</code></pre>
        </div>
    </main>

    <script type="module" src="/static/dist/main.js"></script>
</body>
</html>