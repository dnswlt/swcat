<!DOCTYPE html>
<html lang="en">

<head>
    {{ template "head.html" . }}
</head>

<body class="min-h-screen bg-gray-50 p-4" data-page="entity-clone">
    <!-- Navbar -->
    {{template "nav.html" .}}

    <main class="w-full max-w-screen-lg mx-auto space-y-6 bg-white shadow rounded-xl p-6">
        <h1 class="text-2xl font-semibold text-center">Clone {{ .Entity.GetKind }}</h1>

        <p>Edit the YAML below to create a new entity. Make sure to change the metadata.name.</p>
        <div id="error-container"></div>

        <form hx-post="/ui/entities" hx-target="#error-container" hx-swap="innerHTML">
            <input type="hidden" name="cloned_from" value="{{ .Entity.GetRef }}">
            <div class="space-y-4">
                <div>
                    <label for="yaml-editor" class="block text-sm font-medium text-gray-700">YAML</label>
                    <textarea id="yaml-editor" name="yaml">{{ .YAML }}</textarea>
                </div>

                <div class="flex justify-end space-x-4">
                    <a href="{{ .Entity | toURL }}" class="bg-gray-600 text-white font-bold py-2 px-4 rounded">
                        Cancel
                    </a>
                    <button type="submit" class="bg-blue-600 text-white font-bold py-2 px-4 rounded">
                        Save
                    </button>
                </div>
            </div>
        </form>
    </main>

    {{ template "footer.html" . }}

    <script type="module" src="/static/dist/main.js?v={{.CacheBustingKey}}"></script>

</body>

</html>
